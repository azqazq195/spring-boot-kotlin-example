#name: Integration Test
#
#on:
#  pull_request:
#    branches:
#      - development
#
#jobs:
#  test:
#    name: Integration Test
#    runs-on: ubuntu-latest
#
#    steps:
#      - name: Checkout
#        uses: actions/checkout@v3
#
#      - name: Install JDK 17
#        uses: actions/setup-java@v3
#        with:
#          distribution: 'temurin'
#          java-version: '17'
#          java-package: jdk
#
#      # 기능 개발용 Branch에 Caching된다.
#      # development Branch에는 Caching되지 않는다.
#      # 테스트는 development Branch에서 실행되지 않으므로, Caching이 필요없다.
#
#      - name: Set Development Profile
#        run: |
#          cd ./src/main/resources
#          touch ./application-development.yml
#          echo "${{ secrets.APPLICATION_DEVELOPMENT_YML }}" >> ./application-development.yml
#        shell: bash
#
#      - name: Gradle Test
#        run: ./gradlew clean test
#        timeout-minutes: 5
#
#      - name: Archive test report
#        if: ${{ always() }}
#        uses: actions/upload-artifact@v2
#        with:
#          name: test-results
#          path: build/reports/tests/test
#
#      - name: Slack Notification
#        uses: 8398a7/action-slack@v3
#        with:
#          status: ${{ job.status }}
#          fields: workflow,job,commit,repo,author,took,pullRequest
#          #fields: repo,message,commit,author,action,eventName,ref,workflow,job,took,pullRequest  # selectable (default: repo,message)
#        env:
#          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_TEST }}
#        if: always()